{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mereb\\\\Documents\\\\git_repos\\\\TipTap\\\\TipTap\\\\frontend\\\\tiptap\\\\src\\\\components\\\\PrivateManager\\\\PrivateHomeManager\\\\WorkerQrCode.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport \"../../../style.css\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { getUser } from \"../../../fetches/FetchUsers\";\nimport { useStaffContext } from \"../../../contexts/fetches-contexts/StaffContext\";\nimport { useUserContext } from \"../../../contexts/AuthContext\";\nimport { isEmailValid } from \"../../../fetches/FetchStaff\";\nimport { Row } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function WorkerQrCode() {\n  _s();\n  const navigate = useNavigate();\n  const [validation, setValidation] = useState(\"\");\n  const {\n    staffObject\n  } = useStaffContext();\n  const {\n    userObject\n  } = useUserContext();\n  let {\n    userId\n  } = useParams();\n  async function getWorker() {\n    //If the user is connected as a manager\n    if (userObject.role == 2) {\n      try {\n        const getUserReponse = await getUser(userId);\n        if (getUserReponse.status == \"Success\") {\n          const getValidStaffResponse = await isEmailValid(getUserReponse.response[0].email);\n          //Check if this email is not already used in staff\n          if (getValidStaffResponse.status == \"Success\") {\n            staffObject.current = {\n              firstName: getUserReponse.response[0].firstName,\n              lastName: getUserReponse.response[0].lastName,\n              ID_USER: getUserReponse.response[0].ID,\n              pictureUrl: getUserReponse.response[0].pictureUrl,\n              stars: 5,\n              role: 0\n            };\n            //ADD COOLDOWN BEFOFRE GOING TO NEXT PAGE\n            navigate(\"/privateManager/private-home-manager/add-staff/select-staff-role\");\n          } else {\n            setValidation(getValidStaffResponse.response);\n            navigate(\"/privateManager/private-home-manager/\");\n          }\n        } else {\n          setValidation(getUserReponse.response);\n          navigate(\"/privateManager/private-home-manager/\");\n        }\n      } catch (err) {\n        setValidation(\"Une erreur est survenue\");\n        navigate(\"/privateManager/private-home-manager/\");\n      }\n    } else {\n      setValidation(\"Vous n'êtes pas connecté en tant que manager\");\n      navigate(\"/homepage\");\n    }\n  }\n  useEffect(() => {\n    getWorker();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        className: \" d-flex justify-content-center align-items-center\",\n        sm: 12,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: validation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(WorkerQrCode, \"XRXqYdelEr3o95N47JC9/E7JrMo=\", false, function () {\n  return [useNavigate, useStaffContext, useUserContext, useParams];\n});\n_c = WorkerQrCode;\nvar _c;\n$RefreshReg$(_c, \"WorkerQrCode\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","useParams","getUser","useStaffContext","useUserContext","isEmailValid","Row","jsxDEV","_jsxDEV","WorkerQrCode","_s","navigate","validation","setValidation","staffObject","userObject","userId","getWorker","role","getUserReponse","status","getValidStaffResponse","response","email","current","firstName","lastName","ID_USER","ID","pictureUrl","stars","err","children","Col","className","sm","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mereb/Documents/git_repos/TipTap/TipTap/frontend/tiptap/src/components/PrivateManager/PrivateHomeManager/WorkerQrCode.js"],"sourcesContent":["import React from \"react\";\r\nimport \"../../../style.css\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { getUser } from \"../../../fetches/FetchUsers\";\r\nimport { useStaffContext } from \"../../../contexts/fetches-contexts/StaffContext\";\r\nimport { useUserContext } from \"../../../contexts/AuthContext\";\r\nimport { isEmailValid } from \"../../../fetches/FetchStaff\";\r\nimport { Row } from \"react-bootstrap\";\r\n\r\nexport default function WorkerQrCode() {\r\n  const navigate = useNavigate();\r\n  const [validation, setValidation] = useState(\"\");\r\n  const { staffObject } = useStaffContext();\r\n  const { userObject } = useUserContext();\r\n  let { userId } = useParams();\r\n\r\n  async function getWorker() {\r\n    //If the user is connected as a manager\r\n    if (userObject.role == 2) {\r\n      try {\r\n        const getUserReponse = await getUser(userId);\r\n\r\n        if (getUserReponse.status == \"Success\") {\r\n          const getValidStaffResponse = await isEmailValid(\r\n            getUserReponse.response[0].email\r\n          );\r\n          //Check if this email is not already used in staff\r\n          if (getValidStaffResponse.status == \"Success\") {\r\n            staffObject.current = {\r\n              firstName: getUserReponse.response[0].firstName,\r\n              lastName: getUserReponse.response[0].lastName,\r\n              ID_USER: getUserReponse.response[0].ID,\r\n              pictureUrl: getUserReponse.response[0].pictureUrl,\r\n              stars: 5,\r\n              role: 0,\r\n            };\r\n            //ADD COOLDOWN BEFOFRE GOING TO NEXT PAGE\r\n            navigate(\r\n              \"/privateManager/private-home-manager/add-staff/select-staff-role\"\r\n            );\r\n          } else {\r\n            setValidation(getValidStaffResponse.response);\r\n            navigate(\"/privateManager/private-home-manager/\");\r\n          }\r\n        } else {\r\n          setValidation(getUserReponse.response);\r\n          navigate(\"/privateManager/private-home-manager/\");\r\n        }\r\n      } catch (err) {\r\n        setValidation(\"Une erreur est survenue\");\r\n        navigate(\"/privateManager/private-home-manager/\");\r\n      }\r\n    } else {\r\n      setValidation(\"Vous n'êtes pas connecté en tant que manager\");\r\n      navigate(\"/homepage\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getWorker();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col\r\n          className=\" d-flex justify-content-center align-items-center\"\r\n          sm={12}\r\n        >\r\n          <h1>{validation}</h1>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}